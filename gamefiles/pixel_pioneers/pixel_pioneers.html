<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Pioneers</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        canvas {
            display: block;
            background-color: #f0f0f0;
            margin: auto;
            border: 2px solid #000;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // Game variables
        let playerX = 400;
        let playerY = 350;
        const playerSize = 20;
        let coins = [];
        let score = 0;
        const maxCoins = 10;
        const keyState = {};

        // Player movement
        document.addEventListener("keydown", (event) => {
            keyState[event.key] = true;

            // Move diagonally if two arrow keys are pressed simultaneously
            if (keyState["ArrowUp"] && keyState["ArrowLeft"]) {
                playerY -= 5;
                playerX -= 5;
            } else if (keyState["ArrowUp"] && keyState["ArrowRight"]) {
                playerY -= 5;
                playerX += 5;
            } else if (keyState["ArrowDown"] && keyState["ArrowLeft"]) {
                playerY += 5;
                playerX -= 5;
            } else if (keyState["ArrowDown"] && keyState["ArrowRight"]) {
                playerY += 5;
                playerX += 5;
            } else {
                // Move in single direction
                if (keyState["ArrowUp"]) {
                    playerY -= 5;
                } else if (keyState["ArrowDown"]) {
                    playerY += 5;
                } else if (keyState["ArrowLeft"]) {
                    playerX -= 5;
                } else if (keyState["ArrowRight"]) {
                    playerX += 5;
                }
            }

            // Teleportation when crossing the boundaries
            if (playerX < 0) {
                playerX = canvas.width - playerSize;
            } else if (playerX + playerSize > canvas.width) {
                playerX = 0;
            }
            if (playerY < 0) {
                playerY = canvas.height - playerSize;
            } else if (playerY + playerSize > canvas.height) {
                playerY = 0;
            }

            // Check for coin collection
            coins.forEach((coin, index) => {
                if (
                    playerX < coin.x + coin.size &&
                    playerX + playerSize > coin.x &&
                    playerY < coin.y + coin.size &&
                    playerY + playerSize > coin.y
                ) {
                    coins.splice(index, 1);
                    score++;
                }
            });
        });

        // Clear key state when key is released
        document.addEventListener("keyup", (event) => {
            keyState[event.key] = false;
        });

        // Generate random number between min and max
        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        // Spawn coins
        function spawnCoins() {
            setInterval(() => {
                if (coins.length < maxCoins) {
                    const coinSize = 10;
                    const coinX = getRandomNumber(0, canvas.width - coinSize);
                    const coinY = getRandomNumber(0, canvas.height - coinSize);
                    coins.push({ x: coinX, y: coinY, size: coinSize });
                }
            }, 2000); // Spawn a new coin every 2 seconds
        }

        // Draw coins
        function drawCoins() {
            coins.forEach((coin) => {
                ctx.fillStyle = "yellow";
                ctx.fillRect(coin.x, coin.y, coin.size, coin.size);
            });
        }

        function gameLoop() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw player
            ctx.fillStyle = "blue";
            ctx.fillRect(playerX, playerY, playerSize, playerSize);

            // Draw coins
            drawCoins();

            // Display score
            ctx.fillStyle = "black";
            ctx.font = "20px Arial";
            ctx.fillText("Score: " + score, 10, 30);

            // Request next frame
            requestAnimationFrame(gameLoop);
        }

        // Start the game loop
        gameLoop();

        // Start spawning coins
        spawnCoins();
    </script>
</body>
</html>
